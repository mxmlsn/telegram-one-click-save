# Telegram Instant Saver ‚Äî Design Document

## Overview

Chrome-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤–µ–±-–∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ Telegram. –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –±–æ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –±–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤.

## Features

### 1. –ó–∞—Ö–≤–∞—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–∫–ª–∏–∫ –Ω–∞ –∏–∫–æ–Ω–∫—É)
- –°–∫—Ä–∏–Ω—à–æ—Ç –≤–∏–¥–∏–º–æ–π –æ–±–ª–∞—Å—Ç–∏
- –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram —Å URL –∏ —Ç–µ–≥–æ–º #link
- –°–∫—Ä–∏–Ω—à–æ—Ç –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω (–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)

### 2. –≠–∫—Å–ø–æ—Ä—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–ü–ö–ú ‚Üí –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é)
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞–∫ —Ñ–æ—Ç–æ (—Å–æ —Å–∂–∞—Ç–∏–µ–º) –∏–ª–∏ —Ñ–∞–π–ª (–±–µ–∑ —Å–∂–∞—Ç–∏—è) ‚Äî –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è
- URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã + —Ç–µ–≥ #image

### 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ü–∏—Ç–∞—Ç (–ü–ö–ú –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–º —Ç–µ–∫—Å—Ç–µ)
- Plain text, –±–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã + —Ç–µ–≥ #quote
- –õ–∏–º–∏—Ç 4000 —Å–∏–º–≤–æ–ª–æ–≤

## Architecture

```
‚îú‚îÄ‚îÄ manifest.json
‚îú‚îÄ‚îÄ background.js           # Service Worker: —Å–æ–±—ã—Ç–∏—è, Telegram API
‚îú‚îÄ‚îÄ content.js              # Toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ content.css             # –°—Ç–∏–ª–∏ toast
‚îú‚îÄ‚îÄ options/
‚îÇ   ‚îú‚îÄ‚îÄ options.html
‚îÇ   ‚îú‚îÄ‚îÄ options.js
‚îÇ   ‚îî‚îÄ‚îÄ options.css
‚îî‚îÄ‚îÄ icons/
    ‚îú‚îÄ‚îÄ icon16.png
    ‚îú‚îÄ‚îÄ icon48.png
    ‚îî‚îÄ‚îÄ icon128.png
```

## Settings (Options Page)

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- Bot Token (password field)
- Chat ID

### –°–∫—Ä–∏–Ω—à–æ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚òë –î–æ–±–∞–≤–ª—è—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç –∫ —Å—Å—ã–ª–∫–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª)

### –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –°–æ —Å–∂–∞—Ç–∏–µ–º (—Ñ–æ—Ç–æ) / –ë–µ–∑ —Å–∂–∞—Ç–∏—è (—Ñ–∞–π–ª)

### –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ
- –≠–º–æ–¥–∑–∏ —Å—Å—ã–ª–∫–∏: üîó (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –¢–µ–≥–∏:
  - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: #image
  - –°—Å—ã–ª–∫–∞: #link
  - –¶–∏—Ç–∞—Ç–∞: #quote

### –í–∞–ª–∏–¥–∞—Ü–∏—è
–ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ ‚Äî —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API. –û—à–∏–±–∫–∞ ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—Å—Ç.

## Message Format

### –õ–æ–≥–∏–∫–∞ URL
- –£–¥–∞–ª—è–µ–º `https://`, `http://`, `www.`
- ‚â§35 —Å–∏–º–≤–æ–ª–æ–≤ ‚Üí plain text
- >35 —Å–∏–º–≤–æ–ª–æ–≤ ‚Üí –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫–∞ `<a href="full_url">domain</a>`

### –ü—Ä–∏–º–µ—Ä—ã

**–°–∫—Ä–∏–Ω—à–æ—Ç:**
```
üîó example.com/page
#link
```

**–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
```
üîó ru.wikipedia.org
#image
```

**–¶–∏—Ç–∞—Ç–∞:**
```
"–¢–µ–∫—Å—Ç —Ü–∏—Ç–∞—Ç—ã..."

üîó example.com/page
#quote
```

## Toast Notifications

- –ü–æ–∑–∏—Ü–∏—è: –ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª
- –ê–Ω–∏–º–∞—Ü–∏—è: fade + slide in/out
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ~1.5 —Å–µ–∫—É–Ω–¥—ã
- –í–∞—Ä–∏–∞–Ω—Ç—ã:
  - ‚úì –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
  - ‚úó –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
  - ‚öô –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–æ—Ç–∞

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ content script, –∏–Ω–∂–µ–∫—Ç–∏—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É.

## Permissions

```json
{
  "permissions": [
    "activeTab",
    "contextMenus",
    "storage",
    "scripting"
  ],
  "host_permissions": [
    "https://api.telegram.org/*",
    "<all_urls>"
  ]
}
```

## Data Flow

1. –°–æ–±—ã—Ç–∏–µ (–∫–ª–∏–∫/–∫–æ–Ω—Ç–µ–∫—Å—Ç –º–µ–Ω—é) ‚Üí background.js
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ ‚Üí –µ—Å–ª–∏ –Ω–µ—Ç, –æ—Ç–∫—Ä—ã—Ç—å Options
3. –ó–∞—Ö–≤–∞—Ç –¥–∞–Ω–Ω—ã—Ö (—Å–∫—Ä–∏–Ω—à–æ—Ç/–∫–∞—Ä—Ç–∏–Ω–∫–∞/—Ç–µ–∫—Å—Ç)
4. POST –∑–∞–ø—Ä–æ—Å –∫ `https://api.telegram.org/bot<TOKEN>/send*`
5. Toast —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º

## No Server Required

–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–µ–ª–∞–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã –Ω–∞–ø—Ä—è–º—É—é –∫ Telegram Bot API. –ë–æ—Ç ‚Äî –ø—Ä–æ—Å—Ç–æ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Ö–æ—Å—Ç–∏–Ω–≥–∞.
